---
import { Font } from 'astro:assets';
import Layout from '@/layouts/Layout.astro';
import Updates from '~/Updates.astro';

import outerBBS from "$/guild-bbs.png";
import innerBBS from "$/guild-bbs-content.png";
import sideBBS from "$/guild-bbs-list.png";
import headerBBS from "$/guild-bbs-header.png";
import bottomBBS from "$/guild-bbs-bottom.png";
import buttons from "$/guild-bbs-buttons.png";
---
<Layout>
  <Fragment slot="head">
    <link rel="preload" href={outerBBS.src} as="image" />
    <link rel="preload" href={innerBBS.src} as="image" />
    <link rel="preload" href={sideBBS.src} as="image" />
    <link rel="preload" href={headerBBS.src} as="image" />
    <link rel="preload" href={bottomBBS.src} as="image" />
    <link rel="preload" href={buttons.src} as="image" />
    <Font cssVariable="--arial" preload />
    <Font cssVariable="--dotum-11" preload />
    <Font cssVariable="--dotumche-11" preload />
  </Fragment>

  <main>
    <section id="welcome">
      <div class="inner">
        <h1>welcome!</h1>
        <article class="card">
          <h2>waddup</h2>
          <div class="content">
            hi
          </div>
        </article>
      </div>
    </section>

    <Updates />

    <section id="wall">
      <div class="inner">
        <h1>stuff!</h1>
        <p>i keep a bunch of links here, including the webrings i've joined and some badges i like</p>
        <div class="web">
          
        </div>
      </div>
    </section>

    <section id="scrobbler">

    </section>
  </main>
</Layout>

<style define:vars={{
  outerBorder: `url(${outerBBS.src})`,
  innerBorder: `url(${innerBBS.src})`,
  sideBorder: `url(${sideBBS.src})`,
  headerBorder: `url(${headerBBS.src})`,
  bottomBorder: `url(${bottomBBS.src})`,
  buttons: `url(${buttons.src})`
}}>
  main {
    image-rendering: pixelated;
    --bg-0: #fff;
    --bg-1: #f5fafc;
    --bg-2: #e8eef3;
    --bg-3: #e6e9eb;
    --bg-4: #ddddee;
    --bg-5: #ddeeee;
    --bg-6: #ccccdd;
    --bg-7: #ccddee;
    --bg-8: #8888bb;
    --border-0: #000;
    --border-1: #334466;
    --border-2: #6699aa;
    --border-3: #7799bb;
    --border-4: #88aabb;
    --border-5: #99bbcc;
    --border-6: #bbccdd;
    --border-7: #aaaacc;
    --normal-color: #335577;
    --active-color: #aa0033;
    --active-border: #442266;
    color: #000;

    font: 1rem var(--arial-font);
    letter-spacing: 1px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    margin: 1em;

    @media screen and (max-width: 1080px) {
      grid-template-columns: 1fr;
    }
  }

  h1 { font: bold 1rem var(--arial-font); }
  .inner {
    border: 2px solid var(--border-2);
    border-image: var(--innerBorder) 3 2 2 fill / 6px 4px 4px;
    padding: 4px;
    background-color: var(--bg-0);
  }

  /* WELCOME */
  #welcome {
    display: flex;
    flex-wrap: wrap;
    border: 2px solid var(--border-0);
    border-image: var(--outerBorder) 19 9 38 11 fill / 38px 18px 76px 22px;
    background-color: var(--bg-2);
    padding: 36px 16px 74px 20px;
    margin-right: -2px;
    
    .inner {
      flex: 1;
      margin: 14px 4px 8px;
      /* padding: 1rem; */
    }

    .card {
      h2 {
        font: normal 1.375rem var(--dotum-11-font);
      }
    }

    @media screen and (max-width: 1080px) {
      margin-right: 0;
      margin-bottom: -2px;
    }
  }

  #wall {
    border-image: var(--sideBorder) 22 9 40 8 fill / 44px 18px 80px 16px;
    background-color: var(--bg-0);
    padding: 42px 10px 78px;
    margin-top: -2px;
    grid-column: 1 / -1;

    & > .inner {
      background-color: var(--bg-2);
      padding: 16px 6px;
      margin: 18px 20px 16px;
      border: 2px solid var(--border-6);
    }
  }
</style>